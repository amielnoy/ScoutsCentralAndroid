## This file must *NOT* be checked into Version Control Systems,
# as it contains information specific to your local configuration.
#
# Location of the SDK. This is only used by Gradle.
# For customization when using a Version Control System, please read the
# header note.
#Wed Dec 24 12:32:43 IST 2025
sdk.dir=/Users/amielpeled/Library/Android/sdk

create table if not exists scouts (
  id text primary key,
  name text not null,
  avatar_url text,
  level text not null,
  contact text,
  interests text,
  skills text,
  created_at timestamptz not null default now(),
  updated_at timestamptz not null default now(),
  constraint scouts_level_check check (level in ('KEFIR','OFER','NACHSHON','A'))
);

create table if not exists activities (
  id text primary key,
  title text not null,
  date timestamptz,
  location text,
  materials text[] not null default '{}',
  description text,
  image_url text,
  created_at timestamptz not null default now(),
  updated_at timestamptz not null default now()
);

create table if not exists announcements (
  id text primary key,
  title text not null,
  message text not null,
  date timestamptz,
  created_at timestamptz not null default now(),
  updated_at timestamptz not null default now()
);

create table if not exists scout_activity_history (
  scout_id text not null references scouts(id) on delete cascade,
  activity_id text not null references activities(id) on delete cascade,
  created_at timestamptz not null default now(),
  primary key (scout_id, activity_id)
);

create or replace function set_updated_at()
returns trigger as $$
begin
  new.updated_at = now();
  return new;
end;
$$ language plpgsql;

create trigger set_updated_at_scouts
before update on scouts
for each row execute function set_updated_at();

create trigger set_updated_at_activities
before update on activities
for each row execute function set_updated_at();

create trigger set_updated_at_announcements
before update on announcements
for each row execute function set_updated_at();

SUPABASE_URL=https://qzhhnluqpubkbrvxfljp.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6aGhubHVxcHVia2JydnhmbGpwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1NzE3OTcsImV4cCI6MjA4MjE0Nzc5N30.KJOL7B9EV-LuS0vpArI9nEEcKG9q0c-r6nW6ZbvDrFE
